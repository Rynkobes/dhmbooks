{"version":3,"file":"static/webpack/static/development/pages/books.js.7ca83aad668a94126e80.hot-update.js","sources":["webpack:///./pages/addbooks.js","webpack:///./src/components/AddTitle.js","webpack:///./src/components/BookOptions.js","webpack:///./src/components/languageSelect.js","webpack:///./src/components/queries/bookCreate.js","webpack:///./src/components/queries/fetchbooks.js"],"sourcesContent":["import React from 'react';\nimport Books from './books';\nimport withData from '../apollo/withData';\nimport AddTitle from '../src/components/AddTitle';\n\nexport default withData(() => (\n\t<div>\n\t\t<Books />\n\t\t<AddTitle />\n\t</div>\n));\n","import React from 'react';\nimport { graphql } from 'react-apollo';\nimport fetchbooks from './queries/fetchbooks';\nimport bookcreate from './queries/bookCreate';\nimport SelectLanguage from './languageSelect';\nimport styled from 'styled-components';\nimport { Wrapper, Section, Select, Input, Button, Label } from './BookStyles';\n\nconst Title = styled.h3`text-align: right;`;\n\nclass BookCreate extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttitle: '',\n\t\t\twarehouseOption: '',\n\t\t\tlanguage: '',\n\t\t\twarehouseID: ''\n\t\t};\n\t\tthis.onSubmit = this.onSubmit.bind(this);\n\t\tthis.handlePick = this.handlePick.bind(this);\n\t\tthis.langPick = this.langPick.bind(this);\n\t\tthis.titleInput = this.titleInput.bind(this);\n\t}\n\n\tselectWarehouse() {\n\t\treturn (\n\t\t\t<Select onChange={this.handlePick} value={this.state.warehouseOption}>\n\t\t\t\t{this.props.data.Warehouse.map((warehouseName) => {\n\t\t\t\t\treturn <option key={warehouseName.warehouseID}>{warehouseName.name}</option>;\n\t\t\t\t})}\n\t\t\t</Select>\n\t\t);\n\t}\n\n\thandlePick(e) {\n\t\tthis.setState({\n\t\t\twarehouseOption: e.target.value\n\t\t});\n\t\tlet selection = e.target.value;\n\t\tlet pick = this.props.data.Warehouse;\n\t\tlet result = pick.findIndex((warehousename, index) => {\n\t\t\treturn warehousename.name === selection;\n\t\t});\n\n\t\tif (selection === pick[result].name) {\n\t\t\tconsole.log(this.state.warehouseOption);\n\t\t\tconsole.log(this.state.warehouseID);\n\t\t\tconsole.log(this.setState.language);\n\t\t\tthis.setState({\n\t\t\t\twarehouseOption: pick[result].name,\n\t\t\t\twarehouseID: pick[result].warehouseID\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\twarehouseOption: pick[result].name,\n\t\t\t\twarehouseID: pick[result].warehouseID\n\t\t\t});\n\t\t\tconsole.log('correct the logic above');\n\t\t}\n\t}\n\n\tlangPick(event) {\n\t\tthis.setState({\n\t\t\tlanguage: event.target.value\n\t\t});\n\t}\n\tonSubmit(e) {\n\t\te.preventDefault();\n\t\tthis.props.mutate({\n\t\t\tvariables: {\n\t\t\t\ttitle: this.state.title,\n\t\t\t\tlanguage: this.state.language,\n\t\t\t\twarehouseID: this.state.warehouseID,\n\t\t\t\trefetchQueries: [ { query: fetchbooks } ]\n\t\t\t}\n\t\t});\n\t\tthis.setState({\n\t\t\ttitle: ''\n\t\t});\n\t\t// console.log(this.state);\n\t}\n\ttitleInput(e) {\n\t\tthis.setState({ title: e.target.value });\n\t\tthis.initialState();\n\t}\n\tinitialState() {\n\t\tif (this.state.warehouseOption === '') {\n\t\t\tthis.setState({\n\t\t\t\twarehouseOption: this.props.data.Warehouse[0].name,\n\t\t\t\twarehouseID: this.props.data.Warehouse[0].warehouseID\n\t\t\t});\n\n\t\t\tif (this.state.language === '') {\n\t\t\t\tthis.setState({ language: this.props.data.Language[0].language });\n\t\t\t}\n\t\t}\n\t}\n\n\trender() {\n\t\tif (this.props.data.loading) {\n\t\t\treturn <div>loading...</div>;\n\t\t}\n\t\treturn (\n\t\t\t<Wrapper>\n\t\t\t\t<form onSubmit={this.onSubmit}>\n\t\t\t\t\t<Title>ADD TITLE TO WAREHOUSE</Title>\n\t\t\t\t\t<Section>\n\t\t\t\t\t\t<Label>Select Warehouse</Label>\n\t\t\t\t\t\t{this.selectWarehouse()}\n\t\t\t\t\t</Section>\n\t\t\t\t\t<br />\n\t\t\t\t\t<Section>\n\t\t\t\t\t\t<Label>Enter Book Title</Label>\n\t\t\t\t\t\t<Input type=\"text\" name=\"title\" value={this.state.title} onChange={this.titleInput} />\n\t\t\t\t\t</Section>\n\t\t\t\t\t<br />\n\t\t\t\t\t<Section onChange={this.langPick}>\n\t\t\t\t\t\t<Label>Select Language</Label>\n\t\t\t\t\t\t<SelectLanguage\n\t\t\t\t\t\t\t// onChange={(e) => this.setState({ language: e.target.language })}\n\t\t\t\t\t\t\tvalue={this.langPick}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Section>\n\t\t\t\t\t<br />\n\t\t\t\t\t<Section>\n\t\t\t\t\t\t<Button onClick={this.onSubmit}>Submit</Button>\n\t\t\t\t\t</Section>\n\t\t\t\t</form>\n\t\t\t</Wrapper>\n\t\t);\n\t}\n}\n\nexport default graphql(fetchbooks)(graphql(bookcreate)(BookCreate));\n","import React from 'react';\nimport Link from 'next/link';\nimport Button from './Button';\nimport GoPlus from 'react-icons/lib/go/plus';\nimport FaTrashO from 'react-icons/lib/fa/trash-o';\nimport GoPencil from 'react-icons/lib/go/pencil';\nimport Styledsection from './Styledsection';\nimport addbooks from '../../pages/addbooks'\n\nconst Books = (props) => {\n\treturn (\n\t\t<Styledsection marginLeft=\"200px\">\n\t\t\t<Link href={`books/${addbooks}`}>\n\t\t\t\t<Button bgColour=\"#216F73\" color=\"white\">\n\t\t\t\t\t<GoPlus />Add Title\n\t\t\t\t</Button>\n\t\t\t</Link>\n\t\t\t<Link href=\"/editbook\">\n\t\t\t\t<Button bgColour=\"rgba(0, 217, 255, 0.735)\" color=\"white\">\n\t\t\t\t\t<GoPencil />Edit Title\n\t\t\t\t</Button>\n\t\t\t</Link>\n\t\t\t<Button bgColour=\"Red\" color=\"white\">\n\t\t\t\t<FaTrashO />Delete Title\n\t\t\t</Button>\n\t\t</Styledsection>\n\t\t// {props.children}\n\t);\n};\nexport default Books;\n","import React from 'react';\nimport gql from 'graphql-tag';\nimport { graphql } from 'react-apollo';\nimport { Select } from './BookStyles';\n\nconst SelectLanguage = (props) => {\n\tconsole.log(props);\n\tif (props.data.loading) {\n\t\treturn <div>loading...</div>;\n\t}\n\treturn (\n\t\t<Select>\n\t\t\t{props.data.Language.map((lang) => {\n\t\t\t\treturn <option key={lang.language}>{lang.language}</option>;\n\t\t\t})}\n\t\t</Select>\n\t);\n};\n\nconst query = gql`\n\t{\n\t\tLanguage {\n\t\t\tlanguage\n\t\t}\n\t\tWarehouse {\n\t\t\tname\n\t\t\twarehouseID\n\t\t}\n\t}\n`;\n\nexport default graphql(query)(SelectLanguage);\n","import gql from 'graphql-tag';\n\nexport default gql`\n\tmutation newbook($warehouseID: ID!, $title: String, $language: String) {\n\t\taddBookCreate(warehouseID: $warehouseID, title: $title, language: $language) {\n\t\t\ttitle\n\t\t\tbookID\n\t\t\twarehouse {\n\t\t\t\tname\n\t\t\t}\n\t\t\tlanguage {\n\t\t\t\tlanguage\n\t\t\t}\n\t\t\tstock {\n\t\t\t\tbalance\n\t\t\t}\n\t\t}\n\t}\n`;\n","import gql from 'graphql-tag';\n\nexport default gql`\n\t{\n\t\tLanguage {\n\t\t\tlanguage\n\t\t}\n\t\tWarehouse {\n\t\t\tname\n\t\t\twarehouseID\n\t\t}\n\t}\n`;\n"],"mappings":"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","sourceRoot":""}